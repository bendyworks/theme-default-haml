- f.fields_for :address do |address_form|
  .yui-g
    %label= t(:full_name)
    %br/
    .yui-u.sub-field.first
      = address_form.text_field :firstname, :class => 'fullwidth'
      %br/
      %label{:for => t("first_name")}= t("first_name")
    .yui-u.sub-field
      = address_form.text_field :lastname, :class => 'fullwidth'
      %br/
      %label{:for => t("last_name")}= t("last_name")
  %div
    %label= t("address")
    .sub-field
      = address_form.label :address1, t("street_address")
      %br/
      = address_form.text_field :address1, :class => 'fullwidth'
    .sub-field
      = address_form.label :address2, t("street_address")
      %br/
      = address_form.text_field :address2, :class => 'fullwidth'
  .left.sub-field
    = address_form.label :city, t("city")
    %br/
    = address_form.text_field :city, :size => 20
  .right.sub-field
    = address_form.label :zipcode, t("zip")
    %br/
    = address_form.text_field :zipcode, :size => 10
  .left.sub-field
    = address_form.label :state, t("state")
    %br/
    - if @states.length == 0
      = address_form.text_field :state_name, :autocomplete => 'off'
    - else
      = address_form.collection_select :state_id, @states, :id, :name
  .right.sub-field
    = address_form.label :country_id, t("country")
    %br/
    = address_form.collection_select :country_id, @countries, :id, :name, {}, {:style => 'width:150px;'}
  %p
    = address_form.label :phone, t("phone")
    %br/
    = address_form.text_field :phone
  - if Spree::Config[:alternative_billing_phone] or Spree::Config[:alternative_billing_phone]
    %p
      = address_form.label :alternative_phone, t("alternative_phone")
      %br/
      = address_form.text_field :alternative_phone